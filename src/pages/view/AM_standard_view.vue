<template>
  <div class="content">
    <div class="md-layout">
      <div class="md-layout-item md-size-100">
        <div
          class="card"
          style="padding: 20px;"
        >
              <div id="form-fields" class="card-content">
                                         <div class="form-group row">
                                                    <label for="staticEmail" class="col-xs-4 col-sm-4 col-form-label">Visitor's Name</label>
                                                    <div id="1" class="col-xs-8 col-sm-8 ans">
                                                            <p class="form-control"></p>
                                                    </div>
                                                </div>
                                            <div class="form-group row">
                                                    <label for="staticEmail" class="col-xs-4 col-sm-4 col-form-label">Restaurant/Location</label>
                                                    <div id="2" class="col-xs-8 col-sm-8 ans">
                                                            <p class="form-control"></p>
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <label for="inputPassword" class="col-xs-4 col-sm-4 col-form-label">Date</label>
                                                    <div id="3" class="col-xs-8 col-sm-8 ans">
                                                       <p class="form-control"></p>
                                                    </div>
                                                </div>
                                                <div>
                                                    <h5 class="subtitle"><u>Scoring</u></h5>
                                                    <ol class="d-flex justify-content-between">
                                                        <li>Unacceptable</li>
                                                        <li>Fair</li>
                                                        <li>Satisfactory</li>
                                                        <li>Exceeds expectations</li>
                                                    </ol>
                                                </div>
                                
                                                <table class="table table-bordered">
                                                    <thead>
                                                        <th>Category</th>
                                                        <th>Question</th>
                                                        <th>Yes/No</th>
                                                        <th>Comments</th>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td class="rotate"  rowspan="7">Opening Procedures</td>
                                                            <td >Did manager(s) and all staff arrive at and around 6.30am?</td>
                                                            <td id="4" class="ans">
                                                                    <p ></p>
                                                                </td>
                                
                                                                <td id="5" class="ans">
                                                                        <p ></p>
                                                                    </td>
                                                        </tr>
                                                        <tr>
                                
                                                            <td>Did manager conduct walk-around with 2 security guards?</td>
                                                            <td id="6" class="ans">
                                                                    <p ></p>
                                                                </td>
                                
                                                                <td id="7" class="ans">
                                                                        <p ></p>
                                                                    </td>
                                                        </tr>
                                                        <tr>
                                
                                                            <td >Did manager conduct opening stock count in conjunction with inventory and
                                                                security
                                                                officers? Any discrepancies with prior day closing stock records?</td>
                                                                <td id="8" class="ans">
                                                                        <p ></p>
                                                                    </td>
                                
                                                                    <td id="9" class="ans">
                                                                            <p ></p>
                                                                        </td>
                                                        </tr>
                                                        <tr>
                                
                                                            <td >Was stock count conducted before stock started being issued out for
                                                                production?</td>
                                                                <td id="10" class="ans">
                                                                        <p ></p>
                                                                    </td>
                                
                                                                    <td id="11" class="ans">
                                                                            <p ></p>
                                                                        </td>
                                                        </tr>
                                                        <tr>
                                
                                                            <td >Did manager approve all stock issued from store prior to issue?</td>
                                                            <td id="12" class="ans"><p></p></td>
                                
                                                            <td id="13" class="ans"><p></p></td>
                                                        </tr>
                                                        <tr>
                                
                                                            <td > Did pastries arrive or where pastries ready by 7am? </td>
                                                            <td id="14" class="ans"><p></p></td>
                                
                                                            <td id="15" class="ans"><p></p></td>
                                                        </tr>
                                                        <tr>
                                
                                                            <td >Was restaurant and products ready for customers by 7.30am?</td>
                                                            <td id="16" class="ans"><p></p></td>
                                
                                                            <td id="17" class="ans"><p></p></td>
                                                        </tr>
                                                    </tbody>
                                                    <tbody>
                                                            <tr>
                                                                <td class="rotate"  rowspan="5">Staff Issues</td>
                                                                <td>Did all managers & crew clock-in (sign the register) on resumption?</td>
                                                                <td id="18" class="ans"><p></p></td>
                                    
                                                                <td id="19" class="ans"><p></p></td>
                                                            </tr>
                                                            <tr>
                                    
                                                                <td>Were all staff properly dressed (uniform or chef jacket tucked-in over a black pair of
                                                                    pants, covered black work shoe and cap)?</td>
                                                                <td id="20" class="ans"><p></p></td>
                                    
                                                                <td id="21" class="ans"><p></p></td>
                                                            </tr>
                                                            <tr>
                                    
                                                                <td>Were all staff properly groomed (men clean shaven, female well pedicured etc)?</td>
                                                                <td id="22" class="ans"><p></p></td>
                                    
                                                                <td id="23" class="ans"><p></p></td>
                                                            </tr>
                                                            <tr>
                                    
                                                                <td> Did all staff on duty roaster report to work? </td>
                                                                <td id="24" class="ans"><p></p></td>
                                    
                                                                <td id="25" class="ans"><p></p></td>
                                                            </tr>
                                                        </tbody>
                                                        <tbody>
                                                                <tr>
                                                                    <td class="rotate"  rowspan="7">Production Management</td>
                                                                    <td >Are recipes cards pasted in conspicuous area in the kitchen?</td>
                                                                    <td id="26" class="ans"><p></p></td>
                                        
                                                                    <td id="27" class="ans"><p></p></td>
                                                                </tr>
                                        
                                                                <tr>
                                        
                                                                    <td >Recipe & Process Compliance: Observe several menu production processes to
                                                                        see if recipe
                                                                        and/or processes are being followed</td>
                                                                    <td id="28" class="ans"><p></p></td>
                                        
                                                                    <td id="29" class="ans"><p></p></td>
                                                                </tr>
                                                                <tr>
                                        
                                                                    <td >Spice Inventory: Check that all pre-mixed spices are available, check
                                                                        condition of
                                                                        pre-mix spices, expiry dates, check that spices are being used for production</td>
                                                                    <td id="30" class="ans"><p></p></td>
                                        
                                                                    <td id="31" class="ans"><p></p></td>
                                                                </tr>
                                                                <tr>
                                        
                                                                    <td >Are manager(s) involved or interested in the production process? What is
                                                                        their level of
                                                                        participation?</td>
                                                                    <td id="32" class="ans"><p></p></td>
                                        
                                                                    <td id="33" class="ans"><p></p></td>
                                                                </tr>
                                                                <tr>
                                        
                                                                    <td >Are all menu items available and replenished in a timely manner?</td>
                                                                    <td id="34" class="ans"><p></p></td>
                                        
                                                                    <td id="35" class="ans"><p></p></td>
                                                                </tr>
                                                                <tr>
                                        
                                                                    <td >Are all pre-portioned products properly weighed for proper portioning to
                                                                        ensure customer
                                                                        gets full value for money?</td>
                                                                    <td id="36" class="ans"><p></p></td>
                                        
                                                                    <td id="37" class="ans"><p></p></td>
                                                                </tr>
                                                                <tr>
                                        
                                                                    <td >Are proper records kept for production and transfer of products between FOH
                                                                        & BOH?</td>
                                                                    <td id="38" class="ans"><p></p></td>
                                        
                                                                    <td id="39" class="ans"><p></p></td>
                                                                </tr>
                                                            </tbody>
                                                            <tbody>
                                                                    <tr>
                                                                        <td class="rotate"  rowspan="7">HACCP Compliance</td>
                                                                        <td >Are all equipment properly labelled with their correct temperature limits?
                                                                        </td>
                                                                        <td id="40" class="ans"><p></p></td>
                                            
                                                                        <td id="41" class="ans"><p></p></td>
                                                                    </tr>
                                                                    <tr>
                                            
                                                                        <td >Are all equipment functioning within their appropriate temperature
                                                                            limits/boundaries?
                                                                        </td>
                                                                        <td id="42" class="ans"><p></p></td>
                                            
                                                                        <td id="43" class="ans"><p></p></td>
                                                                    </tr>
                                                                    <tr>
                                            
                                                                        <td >Are all materials stored according to HACCP standards i.e. to avoid
                                                                            cross-contamination?
                                                                        </td>
                                                                        <td id="44" class="ans"><p></p></td>
                                            
                                                                        <td id="45" class="ans"><p></p></td>
                                                                    </tr>
                                                                    <tr>
                                            
                                                                        <td >Are all work surfaces wiped with appropriate food grade sanitizer prior to
                                                                            use in the
                                                                            morning?</td>
                                                                        <td id="46" class="ans"><p></p></td>
                                            
                                                                        <td id="47" class="ans"><p></p></td>
                                                                    </tr>
                                                                    <tr>
                                            
                                                                        <td >Are all kitchen crew using a hand glove when handling fresh produce?</td>
                                                                        <td id="48" class="ans"><p></p></td>
                                            
                                                                        <td id="49" class="ans"><p></p></td>
                                                                    </tr>
                                                                    <tr>
                                            
                                                                        <td >Did the managers have their temperature probes (thermometers) handy? Were
                                                                            they using
                                                                            them?</td>
                                                                        <td id="50" class="ans"><p></p></td>
                                            
                                                                        <td id="51" class="ans"><p></p></td>
                                                                    </tr>
                                                                    <tr>
                                            
                                                                        <td > Use probe to check the holding temperature of a few menu items on display.
                                                                            Where they
                                                                            within the appropriate holding temperature? </td>
                                                                        <td id="52" class="ans"><p></p></td>
                                            
                                                                        <td id="53" class="ans"><p></p></td>
                                                                    </tr>
                                                                </tbody>
                                                                <tbody>
                                                                        <tr>
                                                                            <td class="rotate"  rowspan="12">Hygiene & Cleanliness</td>
                                                                            <td >All Equipment (Interior & Exterior)</td>
                                                                            <td id="54" class="ans"><p></p></td>
                                                
                                                                            <td id="55" class="ans"><p></p></td>
                                                                        </tr>
                                                                        <tr>
                                                
                                                                            <td >Cold room (Rack surfaces, wall & floor)</td>
                                                                            <td id="56" class="ans"><p></p></td>
                                                
                                                                            <td id="57" class="ans"><p></p></td>
                                                                        </tr>
                                                                        <tr>
                                                
                                                                            <td >Deep freezers (No ice buildup and kept clean)</td>
                                                                            <td id="58" class="ans"><p></p></td>
                                                
                                                                            <td id="59" class="ans"><p></p></td>
                                                                        </tr>
                                                                        <tr>
                                                
                                                                            <td >Extractor canopy grills (clean and no grease)</td>
                                                                            <td id="60" class="ans"><p></p></td>
                                                
                                                                            <td id="61" class="ans"><p></p></td>
                                                                        </tr>
                                                                        <tr>
                                                
                                                                            <td > Kitchen floor, corners, walls, ceilings </td>
                                                                            <td id="62" class="ans"><p></p></td>
                                                
                                                                            <td id="63" class="ans"><p></p></td>
                                                                        </tr>
                                                                        <tr>
                                                
                                                                            <td >Storage (floor, racks, smells)</td>
                                                                            <td id="64" class="ans"><p></p></td>
                                                
                                                                            <td id="65" class="ans"><p></p></td>
                                                                        </tr>
                                                                        <tr>
                                                
                                                                            <td > Lobby (floor & table surfaces + legs) </td>
                                                                            <td id="66" class="ans"><p></p></td>
                                                
                                                                            <td id="67" class="ans"><p></p></td>
                                                                        </tr>
                                                                        <tr>
                                                
                                                                            <td >Customer convenience</td>
                                                                            <td id="68" class="ans"><p></p></td>
                                                
                                                                            <td id="69" class="ans"><p></p></td>
                                                                        </tr>
                                                                        <tr>
                                                
                                                                            <td >Staff changing room and toilet</td>
                                                                            <td id="70" class="ans"><p></p></td>
                                                
                                                                            <td id="71" class="ans"><p></p></td>
                                                                        </tr>
                                                                        <tr>
                                                
                                                                            <td >Dump area</td>
                                                                            <td id="72" class="ans"><p></p></td>
                                                
                                                                            <td id="73" class="ans"><p></p></td>
                                                                        </tr>
                                                                        <tr>
                                                
                                                                            <td >Grease trap and sink</td>
                                                                            <td id="74" class="ans"><p></p></td>
                                                
                                                                            <td id="75" class="ans"><p></p></td>
                                                                        </tr>
                                                                        <tr>
                                                
                                                                            <td >Is the restaurant environment (external) and back area clean, free from foul
                                                                                smell?</td>
                                                                            <td id="76" class="ans"><p></p></td>
                                                
                                                                            <td id="77" class="ans"><p></p></td>
                                                                        </tr>
                                                
                                                                    </tbody>
                                                                    <tbody>
                                                                            <tr>
                                                                                <td class="rotate"  rowspan="13"> Customer Experience</td>
                                                                                <td >All Equipment (Interior & Exterior)</td>
                                                                                <td id="78" class="ans"><p></p></td>
                                                    
                                                                                <td id="79" class="ans"><p></p></td>
                                                                            </tr>
                                                                            <tr>
                                                    
                                                                                <td >Is there adequate parking for all customers?</td>
                                                                                <td id="80" class="ans"><p></p></td>
                                                    
                                                                                <td id="81" class="ans"><p></p></td>
                                                                            </tr>
                                                                            <tr>
                                                    
                                                                                <td > Did security guards welcome customers appropriately and provide the needed
                                                                                    guide? </td>
                                                                                <td id="82" class="ans"><p></p></td>
                                                    
                                                                                <td id="83" class="ans"><p></p></td>
                                                                            </tr>
                                                                            <tr>
                                                    
                                                                                <td >Is external signage in good condition? Is it fully lite (if visit is after
                                                                                    dusk or
                                                                                    before dawn)?</td>
                                                                                <td id="84" class="ans"><p></p></td>
                                                    
                                                                                <td id="85" class="ans"><p></p></td>
                                                                            </tr>
                                                                            <tr>
                                                    
                                                                                <td >Is the visual appeal of the restaurant negatively affected by anything?
                                                                                    Check walls,
                                                                                    floor, tables, chairs, windows, other customers etc</td>
                                                                                <td id="86" class="ans"><p></p></td>
                                                    
                                                                                <td id="87" class="ans"><p></p></td>
                                                                            </tr>
                                                                            <tr>
                                                    
                                                                                <td >Is the volume of the music appropriate? Are there any other sound that could
                                                                                    affect the
                                                                                    customer's experience or comfort at the restaurant?</td>
                                                                                <td id="88" class="ans"><p></p></td>
                                                    
                                                                                <td id="89" class="ans"><p></p></td>
                                                                            </tr>
                                                                            <tr>
                                                    
                                                                                <td >Is the volume of the music appropriate? Are there any other sound that could
                                                                                    affect the
                                                                                    customer's experience or comfort at the restaurant?</td>
                                                                                <td id="90" class="ans"><p></p></td>
                                                    
                                                                                <td id="91" class="ans"><p></p></td>
                                                                            </tr>
                                                                            <tr>
                                                    
                                                                                <td >Are all listed menu items available for the customer as at and when ordered?
                                                                                </td>
                                                                                <td id="92" class="ans"><p></p></td>
                                                    
                                                                                <td id="93" class="ans"><p></p></td>
                                                                            </tr>
                                                                            <tr>
                                                    
                                                                                <td > Did cashier suggest compliments to the customer's original order in order
                                                                                    to upsell and
                                                                                    improve on the customer's experience? </td>
                                                                                <td id="94" class="ans"><p></p></td>
                                                    
                                                                                <td id="95" class="ans"><p></p></td>
                                                                            </tr>
                                                                            <tr>
                                                    
                                                                                <td >Was customer served within 3 minutes?</td>
                                                                                <td id="96" class="ans"><p></p></td>
                                                    
                                                                                <td id="97" class="ans"><p></p></td>
                                                                            </tr>
                                                                            <tr>
                                                    
                                                                                <td > Is TV tuned to the appropriate music, news or sports channel? </td>
                                                                                <td id="98" class="ans"><p></p></td>
                                                    
                                                                                <td id="99" class="ans"><p></p></td>
                                                                            </tr>
                                                                            <tr>
                                                    
                                                                                <td > Was host cheerful and pleasant to customer? Did he greet customer and
                                                                                    provide any and
                                                                                    all assistance customer required? </td>
                                                                                <td id="100" class="ans"><p></p></td>
                                                    
                                                                                <td id="101" class="ans"><p></p></td>
                                                                            </tr>
                                                                            <tr>
                                                    
                                                                                <td >If raining, did security guard assist customer with an umbrella? </td>
                                                                                <td id="102" class="ans"><p></p></td>
                                                    
                                                                                <td id="103" class="ans"><p></p></td>
                                                                            </tr>
                                                                        </tbody>
                                                </table>
                                            
                                <br>
                                        
                                                <div class="form-group">
                                                    <label
                                                        for="inputPassword"
                                                        class="form-label"
                                                    >General Comments</label>
                                                    <div
                                                        id="104"
                                                        class="ans"
                                                    >
                                                        <p class="form-box"></p>

                                                    </div>
                                                </div>
                                              
                                                <div class="form-group row">
                                                    <label for="inputPassword" class="col-xs-4 col-sm-4 col-form-label">Manager(s) on Duty</label>
                                                    <div id="105" class="col-xs-8 col-sm-8 ans">
                                                            <p class="form-control"></p>
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <label for="inputPassword" class="col-xs-4 col-sm-4 col-form-label">Operations Auditor</label>
                                                    <div id="106" class="col-xs-8 col-sm-8 ans">
                                                            <p class="form-control"></p>
                                                    </div>
                                                </div>
                                    </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  data () {
    return {};
  },
  mounted () {
    this.getForm(this.$route.params.id);
  },
  methods: {
    getForm (id) {
      var recent = {
        what: "openingsoaview",
        // showLoader: "no",
        params: {
          form_id: id
        }
      };

      this.$socket
        .makeGetRequest(recent)
        .then(response => {
          if (response.type == "openingsoaview") {
            for (let i = 0; i <= 106; i++) {
              response.data.forEach(item => {
                if (i == item.questionno) {
                 if (item.questiontext == "Restaurant/Location Restaurant/Location") {
                    let stores = this.$store.getters.stores
                    stores.forEach(j => {
                      if (j.id == item.answers) {
                        item.answers = j.address + ", " + j.location;
                     
                      }
                    })
                  }
                  document.getElementById(i).querySelectorAll("p")[0].innerHTML = item.answers
                }
              });
            }

            console.log(response.data);
          }
        })
        .catch(e => {
          console.log(e);
        });
    }
  }
};
</script>
<style scoped>
.form-box {
  border: 1px solid #dee2e6;
  height: 120px;
  padding: 5px;
}
</style>
